/*
 Navicat Premium Data Transfer

 Source Server         : local_mysql8
 Source Server Type    : MySQL
 Source Server Version : 80035
 Source Host           : localhost:3306
 Source Schema         : wzkris_equipment

 Target Server Type    : MySQL
 Target Server Version : 80035
 File Encoding         : 65001

 Date: 19/12/2024 16:59:13
*/

SET NAMES utf8mb4;
SET FOREIGN_KEY_CHECKS = 0;

CREATE DATABASE IF NOT EXISTS wzkris_equipment default character set utf8mb4 collate utf8mb4_unicode_ci;
USE wzkris_equipment;
-- ----------------------------
-- Table structure for device
-- ----------------------------
DROP TABLE IF EXISTS `device`;
CREATE TABLE `device`  (
  `device_id` bigint NOT NULL COMMENT '设备ID',
  `tenant_id` bigint NOT NULL DEFAULT 0 COMMENT '租户ID',
  `pdt_id` bigint NOT NULL COMMENT '产品ID',
  `station_id` bigint NULL DEFAULT NULL COMMENT '站点信息',
  `device_name` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL DEFAULT NULL COMMENT '设备名称',
  `cmcid` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL COMMENT '设备通信标识',
  `longitude` decimal(9, 6) NULL DEFAULT NULL COMMENT '经度',
  `latitude` decimal(8, 6) NULL DEFAULT NULL COMMENT '纬度',
  `online` tinyint(1) NOT NULL DEFAULT 0 COMMENT '在线离线',
  `status` char(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '0' COMMENT '设备状态',
  `alarm` char(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '0' COMMENT '告警状态',
  `online_time` bigint NULL DEFAULT NULL COMMENT '上线时间',
  `offline_time` bigint NULL DEFAULT NULL COMMENT '下线时间',
  `create_at` bigint NOT NULL COMMENT '创建时间',
  `create_id` bigint NOT NULL COMMENT '创建者',
  `update_at` bigint NULL DEFAULT NULL COMMENT '更新时间',
  `update_id` bigint NULL DEFAULT NULL COMMENT '更新者',
  PRIMARY KEY (`device_id`) USING BTREE,
  INDEX `t_id`(`tenant_id` ASC) USING BTREE,
  INDEX `s_id`(`station_id` ASC) USING BTREE,
  UNIQUE INDEX `uk_cmcid`(`cmcid` ASC) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8mb4 COLLATE = utf8mb4_unicode_ci COMMENT = '设备表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
-- Records of device
-- ----------------------------
INSERT INTO `device` VALUES (1858767510869524481, 0, 1864567546446561282, 1866022527007670274, 'ccccc', 'xxx', 120.238482, 30.173184, 1, '0', '0', NULL, NULL, 1731999683486, 1, 1734424672478, 1);
INSERT INTO `device` VALUES (1863818223969079298, 0, 0, 1866022527007670274, '1222', '1111', 120.784497, 28.073432, 0, '0', '0', NULL, NULL, 1733203867320, 1, 1733811298011, 1);
INSERT INTO `device` VALUES (1863818223969079301, 0, 1864567546446561282, NULL, '1222', '1112', 120.597260, 27.769357, 1, '0', '0', NULL, NULL, 1733203867320, 1, 1733820867989, 1);
INSERT INTO `device` VALUES (1863818223969079307, 0, 1864220691112038402, 1866022527007670274, 'xxxx', 'sssxxxx1', NULL, NULL, 1, '0', '0', NULL, NULL, 1733203867320, 1, 1734597923578, 1);
INSERT INTO `device` VALUES (1863818223969079308, 0, 0, 1866022527007670274, '1229', '1228', 120.784497, 28.073432, 0, '0', '0', NULL, NULL, 1733203867320, 1, 1733811298010, 1);
INSERT INTO `device` VALUES (1863818223969079309, 0, 1864220691112038402, 1866022527007670274, '1229', '1227', 120.784497, 28.073432, 0, '0', '0', NULL, NULL, 1733203867320, 1, 1733879241935, 1);
INSERT INTO `device` VALUES (1863818223969079310, 0, 0, 1866022527007670274, '1229', 'cccqq1226', 120.784497, 28.073432, 0, '0', '0', NULL, NULL, 1733203867320, 1, 1734421940303, 1);
INSERT INTO `device` VALUES (1863818223969079311, 0, 0, NULL, '1229', '1225', NULL, NULL, 0, '0', '0', NULL, NULL, 1733203867320, 1, 1733811266067, 1);
INSERT INTO `device` VALUES (1863818223969079312, 0, 1864220691112038402, 1866022527007670274, '1229', '1224', 120.784497, 28.073432, 0, '0', '0', NULL, NULL, 1733203867320, 1, 1733879223177, 1);
INSERT INTO `device` VALUES (1863818223969079313, 0, 1864220691112038402, 1866022527007670274, '1229', '1223', 120.784497, 28.073432, 0, '0', '0', NULL, NULL, 1733203867320, 1, 1734422009015, 1);
INSERT INTO `device` VALUES (1863818223969079314, 0, 1864220691112038402, 1866022527007670274, '1229', '1233', 120.784497, 28.073432, 0, '0', '0', NULL, NULL, 1733203867320, 1, 1733879540222, 1);
INSERT INTO `device` VALUES (1863818223969079316, 0, 1864220691112038402, NULL, '1288', '1288', NULL, NULL, 0, '0', '0', NULL, NULL, 1733203867320, 1, 1733811106351, 1);
INSERT INTO `device` VALUES (1866378572443914241, 1774671331416821762, 1864567546446561282, NULL, '测试设备2', 'xxxx', NULL, NULL, 0, '0', '0', NULL, NULL, 1733814301968, 1774671331412627456, 1734572342810, 1774671331412627456);

-- ----------------------------
-- Table structure for device_cmd_log
-- ----------------------------
DROP TABLE IF EXISTS `device_cmd_log`;
CREATE TABLE `device_cmd_log`  (
  `device_id` bigint NOT NULL COMMENT '设备ID',
  `receive_time` bigint NOT NULL COMMENT '接收时间',
  `cmd` varchar(16) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL COMMENT '指令',
  `tenant_id` bigint NOT NULL COMMENT '租户ID',
  `cmd_type` char(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL COMMENT '指令类型（1=属性上报，2=功能调用，3=事件上报，4=设备升级，5=设备上线，6=设备离线）',
  `cmd_data` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL COMMENT '指令数据',
  PRIMARY KEY (`device_id`, `receive_time`, `cmd`) USING BTREE,
  INDEX `t_id`(`tenant_id` ASC) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8mb4 COLLATE = utf8mb4_unicode_ci COMMENT = '设备指令日志' ROW_FORMAT = Dynamic;

-- ----------------------------
-- Records of device_cmd_log
-- ----------------------------
INSERT INTO `device_cmd_log` VALUES (1858767510869524481, 1734596350027, '58', 0, '2', '6B7165336B756D74');
INSERT INTO `device_cmd_log` VALUES (1858767510869524481, 1734596520030, '54', 0, '2', '796C457A4535655449356E324B6A3359');
INSERT INTO `device_cmd_log` VALUES (1858767510869524481, 1734596600024, '7A', 0, '5', '77616472507A75786230675956363555');
INSERT INTO `device_cmd_log` VALUES (1858767510869524481, 1734596860026, '45', 0, '5', '51643552707832723578785276335175');
INSERT INTO `device_cmd_log` VALUES (1858767510869524481, 1734596940010, '41', 0, '6', '6E5A42367534726A6A62655041423564');
INSERT INTO `device_cmd_log` VALUES (1858767510869524481, 1734596990009, '6B', 0, '4', '7041426B354D466D514F3072326D4634');
INSERT INTO `device_cmd_log` VALUES (1858767510869524481, 1734597000010, '74', 0, '2', '4B57704C376F66437A55444433643638');
INSERT INTO `device_cmd_log` VALUES (1858767510869524481, 1734597030011, '6D', 0, '5', '6439736A4F36644646643975304B6553');
INSERT INTO `device_cmd_log` VALUES (1858767510869524481, 1734597110012, '42', 0, '3', '6C6544433453557831333331705A7634');
INSERT INTO `device_cmd_log` VALUES (1858767510869524481, 1734597140010, '79', 0, '3', '6D57576C476D6C7A5950576C324C6547');
INSERT INTO `device_cmd_log` VALUES (1858767510869524481, 1734597200011, '51', 0, '4', '4264486C6E3456363673375A43336D4C');
INSERT INTO `device_cmd_log` VALUES (1858767510869524481, 1734597210010, '43', 0, '3', '694B57614D68693535505A6C49714373');
INSERT INTO `device_cmd_log` VALUES (1858767510869524481, 1734597250014, '4B', 0, '5', '68346D5776563964376A347653776E43');
INSERT INTO `device_cmd_log` VALUES (1858767510869524481, 1734597420024, '74', 0, '2', '69653433476949366277514262793266');
INSERT INTO `device_cmd_log` VALUES (1858767510869524481, 1734597560010, '39', 0, '4', '4D7345576632506D58584A5A55484438');
INSERT INTO `device_cmd_log` VALUES (1858767510869524481, 1734597890020, '41', 0, '6', '654E4661634933584153676A6B623348');
INSERT INTO `device_cmd_log` VALUES (1858767510869524481, 1734598030010, '34', 0, '3', '33694853616E745A6C78495971683155');
INSERT INTO `device_cmd_log` VALUES (1858767510869524481, 1734598090012, '62', 0, '5', '70337A767072555558646A7862756879');
INSERT INTO `device_cmd_log` VALUES (1858767510869524481, 1734598170009, '61', 0, '5', '6D41654652634B616C4E706643566973');
INSERT INTO `device_cmd_log` VALUES (1858767510869524481, 1734598230010, '47', 0, '5', '75316F43327039514E564E774776736F');
INSERT INTO `device_cmd_log` VALUES (1858767510869524481, 1734598340009, '58', 0, '6', '59644A6B46513767754371675347654F');
INSERT INTO `device_cmd_log` VALUES (1858767510869524481, 1734598360009, '45', 0, '5', '6B71327363766F33304447426F693371');
INSERT INTO `device_cmd_log` VALUES (1858767510869524481, 1734598670008, '53', 0, '6', '5736346C734133304442676C48336433');
INSERT INTO `device_cmd_log` VALUES (1863818223969079298, 1734596410024, '6E', 0, '2', '45696A666C3765546C53797A50747666');
INSERT INTO `device_cmd_log` VALUES (1863818223969079298, 1734596460019, '75', 0, '1', '41386C63756231596250756233786B4F');
INSERT INTO `device_cmd_log` VALUES (1863818223969079298, 1734596510025, '30', 0, '5', '6C66537251733167795669324F784563');
INSERT INTO `device_cmd_log` VALUES (1863818223969079298, 1734596560015, '36', 0, '2', '4C56646D5558464A4F54393973567574');
INSERT INTO `device_cmd_log` VALUES (1863818223969079298, 1734597040010, '78', 0, '2', '7432525A7934544D6B4B487676313567');
INSERT INTO `device_cmd_log` VALUES (1863818223969079298, 1734597280014, '43', 0, '4', '393446575A4F766D4262643678546274');
INSERT INTO `device_cmd_log` VALUES (1863818223969079298, 1734597830011, '45', 0, '3', '5951546E7133584A49386D67484D5938');
INSERT INTO `device_cmd_log` VALUES (1863818223969079298, 1734598020010, '32', 0, '5', '506D664C70386C724234517649496A48');
INSERT INTO `device_cmd_log` VALUES (1863818223969079298, 1734598050012, '35', 0, '4', '385863357158627479435A5766673551');
INSERT INTO `device_cmd_log` VALUES (1863818223969079298, 1734598300011, '72', 0, '6', '793563546659637567765374464D4569');
INSERT INTO `device_cmd_log` VALUES (1863818223969079298, 1734598470009, '78', 0, '6', '6A744672773259506D694C756D683545');
INSERT INTO `device_cmd_log` VALUES (1863818223969079298, 1734598690009, '33', 0, '2', '55704665773455724F4C6B724561436D');
INSERT INTO `device_cmd_log` VALUES (1863818223969079301, 1734596340332, '6E', 0, '6', '49664F49484E6241');
INSERT INTO `device_cmd_log` VALUES (1863818223969079301, 1734596740025, '74', 0, '5', '63664339654E57544845387147584A32');
INSERT INTO `device_cmd_log` VALUES (1863818223969079301, 1734596750025, '6C', 0, '4', '79547750513167766431787867667554');
INSERT INTO `device_cmd_log` VALUES (1863818223969079301, 1734596880027, '30', 0, '3', '4E4C6977657674354874484E46694E4F');
INSERT INTO `device_cmd_log` VALUES (1863818223969079301, 1734596930011, '4A', 0, '3', '393670644F62644249684679456B6250');
INSERT INTO `device_cmd_log` VALUES (1863818223969079301, 1734596950010, '6D', 0, '1', '4A55414E48776D46653445586B785676');
INSERT INTO `device_cmd_log` VALUES (1863818223969079301, 1734597020012, '4D', 0, '1', '384B4951706563537837464D594C6653');
INSERT INTO `device_cmd_log` VALUES (1863818223969079301, 1734597340021, '55', 0, '3', '306263776138705563794A734D65704C');
INSERT INTO `device_cmd_log` VALUES (1863818223969079301, 1734597440021, '73', 0, '6', '47423152517354696F48474648584175');
INSERT INTO `device_cmd_log` VALUES (1863818223969079301, 1734597540012, '45', 0, '2', '31305A65635144453845574C6F71794F');
INSERT INTO `device_cmd_log` VALUES (1863818223969079301, 1734597620011, '70', 0, '4', '4549336130614861427A39716379466D');
INSERT INTO `device_cmd_log` VALUES (1863818223969079301, 1734597630010, '6C', 0, '4', '39743668614A3166485A424E6D6C3779');
INSERT INTO `device_cmd_log` VALUES (1863818223969079301, 1734597880012, '36', 0, '1', '7145444A574C574B476D41466757734B');
INSERT INTO `device_cmd_log` VALUES (1863818223969079301, 1734597920023, '7A', 0, '2', '7255636E79326C42616A645335726464');
INSERT INTO `device_cmd_log` VALUES (1863818223969079301, 1734598150012, '39', 0, '5', '4A637067594365566A464A34704A5661');
INSERT INTO `device_cmd_log` VALUES (1863818223969079301, 1734598180022, '61', 0, '6', '5A416F714F37744C773757697669634C');
INSERT INTO `device_cmd_log` VALUES (1863818223969079301, 1734598430009, '6F', 0, '3', '646A465561796D4E5267714672357A62');
INSERT INTO `device_cmd_log` VALUES (1863818223969079301, 1734598570009, '76', 0, '5', '4D4E67416C686C6E7258464947574B48');
INSERT INTO `device_cmd_log` VALUES (1863818223969079301, 1734598620011, '38', 0, '3', '665A684F6A53586C4B58536937336231');
INSERT INTO `device_cmd_log` VALUES (1863818223969079301, 1734598660012, '65', 0, '1', '626C4F4B354559354F6B7179696D4A71');
INSERT INTO `device_cmd_log` VALUES (1863818223969079307, 1734596390034, '56', 0, '4', '4272545A593933646D4535524B436E5A');
INSERT INTO `device_cmd_log` VALUES (1863818223969079307, 1734596400035, '78', 0, '6', '4846577079703643796C32755A534633');
INSERT INTO `device_cmd_log` VALUES (1863818223969079307, 1734596430026, '62', 0, '3', '434F4263317437515276304D65795661');
INSERT INTO `device_cmd_log` VALUES (1863818223969079307, 1734596500034, '79', 0, '4', '66494A3759414D724E54794D41687950');
INSERT INTO `device_cmd_log` VALUES (1863818223969079307, 1734596540011, '59', 0, '5', '6574534F57623958535773665A664368');
INSERT INTO `device_cmd_log` VALUES (1863818223969079307, 1734596660017, '65', 0, '6', '5942736B367749397370776F37714865');
INSERT INTO `device_cmd_log` VALUES (1863818223969079307, 1734597070011, '31', 0, '6', '524C456D65583564523765784C6E4135');
INSERT INTO `device_cmd_log` VALUES (1863818223969079307, 1734597510017, '52', 0, '4', '5A355743593231415752514F64556B44');
INSERT INTO `device_cmd_log` VALUES (1863818223969079307, 1734597710008, '54', 0, '2', '56575A4270734D527237524D5269544A');
INSERT INTO `device_cmd_log` VALUES (1863818223969079307, 1734597980009, '46', 0, '5', '426E504276504A343347426549306873');
INSERT INTO `device_cmd_log` VALUES (1863818223969079307, 1734598080010, '79', 0, '3', '7641576E3355417855656551714E6C44');
INSERT INTO `device_cmd_log` VALUES (1863818223969079307, 1734598140010, '68', 0, '1', '725063304F4D534532386D325A684253');
INSERT INTO `device_cmd_log` VALUES (1863818223969079307, 1734598510013, '32', 0, '1', '72697473437976503956434456796371');
INSERT INTO `device_cmd_log` VALUES (1863818223969079307, 1734598540010, '6B', 0, '1', '7042334D704C366E4C63754444623370');
INSERT INTO `device_cmd_log` VALUES (1863818223969079307, 1734598650010, '72', 0, '3', '3341373572643338645A655545697655');
INSERT INTO `device_cmd_log` VALUES (1863818223969079308, 1734596530024, '68', 0, '4', '367853785352594B616753565947474C');
INSERT INTO `device_cmd_log` VALUES (1863818223969079308, 1734596800016, '54', 0, '2', '536850713675786B3064363957533472');
INSERT INTO `device_cmd_log` VALUES (1863818223969079308, 1734597380015, '7A', 0, '4', '6B4A51307A526F675874717846716D62');
INSERT INTO `device_cmd_log` VALUES (1863818223969079308, 1734597410015, '68', 0, '5', '4B5347347375764F7278686D6877616D');
INSERT INTO `device_cmd_log` VALUES (1863818223969079308, 1734597530009, '4C', 0, '4', '30427248654B6A303972626141494F50');
INSERT INTO `device_cmd_log` VALUES (1863818223969079308, 1734597590010, '30', 0, '6', '766E6753364164637571574F56706663');
INSERT INTO `device_cmd_log` VALUES (1863818223969079308, 1734597650009, '74', 0, '6', '5A3654325673334E36636431556A6150');
INSERT INTO `device_cmd_log` VALUES (1863818223969079308, 1734597690009, '73', 0, '5', '65726E50456B4674797564336D4D664E');
INSERT INTO `device_cmd_log` VALUES (1863818223969079308, 1734597760024, '6F', 0, '6', '57534955676F66347A594341574B4863');
INSERT INTO `device_cmd_log` VALUES (1863818223969079308, 1734597780010, '63', 0, '4', '33424D4666596C58554D6D3444636441');
INSERT INTO `device_cmd_log` VALUES (1863818223969079308, 1734597820021, '61', 0, '3', '3969375950666A454B53383745676D4D');
INSERT INTO `device_cmd_log` VALUES (1863818223969079308, 1734598400008, '53', 0, '3', '56483161436D30705A6D43526573336E');
INSERT INTO `device_cmd_log` VALUES (1863818223969079308, 1734598550009, '6B', 0, '2', '6862456D474F314A584E577A39305258');
INSERT INTO `device_cmd_log` VALUES (1863818223969079308, 1734598680009, '44', 0, '1', '74546543436F5865336B4C304C347A37');
INSERT INTO `device_cmd_log` VALUES (1863818223969079308, 1734598730011, '5A', 0, '2', '73444A625066654D714A644F6A566F72');
INSERT INTO `device_cmd_log` VALUES (1863818223969079309, 1734596450024, '35', 0, '4', '6C724871497A584138676E4659797156');
INSERT INTO `device_cmd_log` VALUES (1863818223969079309, 1734596470020, '56', 0, '5', '4A695358324152366B37626232624966');
INSERT INTO `device_cmd_log` VALUES (1863818223969079309, 1734596490015, '6A', 0, '2', '416367507847634A4B676E44656A3362');
INSERT INTO `device_cmd_log` VALUES (1863818223969079309, 1734596640012, '47', 0, '3', '42707569535758596B7965566C4A5A33');
INSERT INTO `device_cmd_log` VALUES (1863818223969079309, 1734596650011, '66', 0, '3', '64697878424D48776641703250644E69');
INSERT INTO `device_cmd_log` VALUES (1863818223969079309, 1734596760020, '73', 0, '2', '313735374B61683351437167686B4733');
INSERT INTO `device_cmd_log` VALUES (1863818223969079309, 1734596780018, '74', 0, '4', '6D704B694D4A325258624C5431797A35');
INSERT INTO `device_cmd_log` VALUES (1863818223969079309, 1734596790021, '69', 0, '2', '55783158676B466469794A736758536B');
INSERT INTO `device_cmd_log` VALUES (1863818223969079309, 1734596910011, '61', 0, '2', '74345A356D564E537144744C4533514A');
INSERT INTO `device_cmd_log` VALUES (1863818223969079309, 1734597240012, '62', 0, '3', '78416975576573464B50776E41764849');
INSERT INTO `device_cmd_log` VALUES (1863818223969079309, 1734597400025, '6A', 0, '3', '51543877686F4430584D7A6D30773755');
INSERT INTO `device_cmd_log` VALUES (1863818223969079309, 1734597580010, '43', 0, '6', '573038634D6A74574944416D62505751');
INSERT INTO `device_cmd_log` VALUES (1863818223969079309, 1734597770011, '31', 0, '6', '64714A4A504D50467177454470593067');
INSERT INTO `device_cmd_log` VALUES (1863818223969079309, 1734597790016, '39', 0, '2', '393343696E3346413876553178344449');
INSERT INTO `device_cmd_log` VALUES (1863818223969079309, 1734597800021, '43', 0, '1', '446A6A737A6E366C63415349556D3078');
INSERT INTO `device_cmd_log` VALUES (1863818223969079309, 1734597910008, '79', 0, '6', '3246764168396C4B5A69496A4233695A');
INSERT INTO `device_cmd_log` VALUES (1863818223969079309, 1734598010008, '57', 0, '3', '666A52396A675064505A547334666E5A');
INSERT INTO `device_cmd_log` VALUES (1863818223969079309, 1734598070010, '46', 0, '4', '7050556846554D5A50556E31456C464B');
INSERT INTO `device_cmd_log` VALUES (1863818223969079309, 1734598100009, '6D', 0, '4', '536E6669344266344A494F5830586966');
INSERT INTO `device_cmd_log` VALUES (1863818223969079309, 1734598110008, '53', 0, '6', '357837466348636431596A62664F3364');
INSERT INTO `device_cmd_log` VALUES (1863818223969079309, 1734598240017, '42', 0, '2', '7074564443684A45715A414635585449');
INSERT INTO `device_cmd_log` VALUES (1863818223969079309, 1734598610011, '4D', 0, '4', '3738336D7973416C32684B6B39786E49');
INSERT INTO `device_cmd_log` VALUES (1863818223969079309, 1734598700010, '6C', 0, '5', '74426E4877616C4E3674674476777A61');
INSERT INTO `device_cmd_log` VALUES (1863818223969079310, 1734596380294, '6F', 0, '6', '784B315035706B43313774454D763875');
INSERT INTO `device_cmd_log` VALUES (1863818223969079310, 1734596420019, '33', 0, '1', '4843694C4638504D67554A7672774949');
INSERT INTO `device_cmd_log` VALUES (1863818223969079310, 1734596480014, '38', 0, '2', '77415058576138303450763773596977');
INSERT INTO `device_cmd_log` VALUES (1863818223969079310, 1734596580019, '66', 0, '5', '6B6F514C6C555A6F4F45324D6850546E');
INSERT INTO `device_cmd_log` VALUES (1863818223969079310, 1734596630029, '53', 0, '4', '304E326A70386E53546B4952304B7351');
INSERT INTO `device_cmd_log` VALUES (1863818223969079310, 1734596670010, '39', 0, '5', '4B6F454F6975574D7435496C56726E47');
INSERT INTO `device_cmd_log` VALUES (1863818223969079310, 1734597090010, '41', 0, '4', '7738316946796C6E32466D424B55596E');
INSERT INTO `device_cmd_log` VALUES (1863818223969079310, 1734597230009, '6C', 0, '1', '434C6D78345A58626E4C76777A5A7A66');
INSERT INTO `device_cmd_log` VALUES (1863818223969079310, 1734597290014, '4B', 0, '3', '5075727248485766394638556C494161');
INSERT INTO `device_cmd_log` VALUES (1863818223969079310, 1734597460009, '61', 0, '3', '637A7A32656369694D54337338426B54');
INSERT INTO `device_cmd_log` VALUES (1863818223969079310, 1734597660010, '38', 0, '4', '4B7974346F654C7531364C79775A3566');
INSERT INTO `device_cmd_log` VALUES (1863818223969079310, 1734597930008, '63', 0, '1', '6677526C6C4262784F375443796B6C46');
INSERT INTO `device_cmd_log` VALUES (1863818223969079310, 1734598200009, '39', 0, '5', '5A5334426F775943654634775272326A');
INSERT INTO `device_cmd_log` VALUES (1863818223969079310, 1734598330009, '54', 0, '2', '47795639654A5A5274396E36326F3543');
INSERT INTO `device_cmd_log` VALUES (1863818223969079310, 1734598370008, '79', 0, '1', '566D667A574E6A38676D42374B306845');
INSERT INTO `device_cmd_log` VALUES (1863818223969079310, 1734598380019, '4D', 0, '5', '334E624C476E6A6633754D6379793064');
INSERT INTO `device_cmd_log` VALUES (1863818223969079310, 1734598420008, '54', 0, '1', '59456F37574879454536536D71533263');
INSERT INTO `device_cmd_log` VALUES (1863818223969079310, 1734598600010, '73', 0, '4', '72526D4730754D385261323943654371');
INSERT INTO `device_cmd_log` VALUES (1863818223969079311, 1734596440026, '38', 0, '4', '7150346446416E55556C306161426633');
INSERT INTO `device_cmd_log` VALUES (1863818223969079311, 1734596590024, '52', 0, '6', '394965467541515A4E64696F52634535');
INSERT INTO `device_cmd_log` VALUES (1863818223969079311, 1734596700011, '68', 0, '5', '76564F77613832757A32626D3538537A');
INSERT INTO `device_cmd_log` VALUES (1863818223969079311, 1734596900012, '4E', 0, '5', '75476677384247647836506B41494C43');
INSERT INTO `device_cmd_log` VALUES (1863818223969079311, 1734597080014, '66', 0, '2', '586B4F75494E336B4F7831483434496F');
INSERT INTO `device_cmd_log` VALUES (1863818223969079311, 1734597100013, '6B', 0, '1', '4738707261424F39616F786F61414845');
INSERT INTO `device_cmd_log` VALUES (1863818223969079311, 1734597120011, '4A', 0, '4', '57387077645472654E566E34646B4845');
INSERT INTO `device_cmd_log` VALUES (1863818223969079311, 1734597150010, '6D', 0, '4', '3058486D753233716C5A44686D4E6671');
INSERT INTO `device_cmd_log` VALUES (1863818223969079311, 1734597190010, '6B', 0, '2', '39685667506C6732564C3856706A6D5A');
INSERT INTO `device_cmd_log` VALUES (1863818223969079311, 1734597310014, '43', 0, '5', '67534B6568547138495556617537626C');
INSERT INTO `device_cmd_log` VALUES (1863818223969079311, 1734597610011, '63', 0, '4', '50304E7737495A436547304958733661');
INSERT INTO `device_cmd_log` VALUES (1863818223969079311, 1734597680009, '31', 0, '1', '305161614C6E55707975626439306E73');
INSERT INTO `device_cmd_log` VALUES (1863818223969079311, 1734597700018, '6E', 0, '4', '5532644D6678355661626874486A5539');
INSERT INTO `device_cmd_log` VALUES (1863818223969079311, 1734598160009, '57', 0, '3', '4A66773964784F7473664776634A7947');
INSERT INTO `device_cmd_log` VALUES (1863818223969079311, 1734598220009, '69', 0, '2', '70444B7A634A4C6E634E3948464F7358');
INSERT INTO `device_cmd_log` VALUES (1863818223969079311, 1734598250021, '31', 0, '4', '4A35734B765779346D5975743372594D');
INSERT INTO `device_cmd_log` VALUES (1863818223969079311, 1734598270013, '6F', 0, '4', '68656A30583435646A51534347554634');
INSERT INTO `device_cmd_log` VALUES (1863818223969079311, 1734598460009, '46', 0, '2', '42363257786B677346336F426D415667');
INSERT INTO `device_cmd_log` VALUES (1863818223969079311, 1734598490010, '51', 0, '6', '354244464C6F49506F584B706C755330');
INSERT INTO `device_cmd_log` VALUES (1863818223969079311, 1734598530010, '50', 0, '6', '36474A46424E42597375756777614142');
INSERT INTO `device_cmd_log` VALUES (1863818223969079311, 1734598560009, '51', 0, '1', '456A7A6D414A537649306F713231627A');
INSERT INTO `device_cmd_log` VALUES (1863818223969079311, 1734598710009, '48', 0, '1', '4D534736565433767070694E44525245');
INSERT INTO `device_cmd_log` VALUES (1863818223969079311, 1734598720009, '6E', 0, '3', '644E773261307973415264427A7A6A59');
INSERT INTO `device_cmd_log` VALUES (1863818223969079312, 1734596850027, '62', 0, '3', '454D514943376A76484B4B696B6C5458');
INSERT INTO `device_cmd_log` VALUES (1863818223969079312, 1734596870011, '67', 0, '5', '6C4D7456487670773352665232796F50');
INSERT INTO `device_cmd_log` VALUES (1863818223969079312, 1734596920010, '77', 0, '6', '7A6652797A6C7030397639676E543238');
INSERT INTO `device_cmd_log` VALUES (1863818223969079312, 1734596980010, '38', 0, '3', '636137416453797946704838506B7977');
INSERT INTO `device_cmd_log` VALUES (1863818223969079312, 1734597130010, '52', 0, '1', '486F68574C6E4D51354E44434B5A6658');
INSERT INTO `device_cmd_log` VALUES (1863818223969079312, 1734597220021, '54', 0, '1', '6E773258426C523565754A636448614D');
INSERT INTO `device_cmd_log` VALUES (1863818223969079312, 1734597300021, '4E', 0, '5', '49616363697777417975597253464953');
INSERT INTO `device_cmd_log` VALUES (1863818223969079312, 1734597470009, '59', 0, '1', '62434372666456443878735569344230');
INSERT INTO `device_cmd_log` VALUES (1863818223969079312, 1734597490015, '79', 0, '5', '44577973426B62364A6F34774B676E79');
INSERT INTO `device_cmd_log` VALUES (1863818223969079312, 1734597550010, '4E', 0, '6', '71794831397657565948625649684855');
INSERT INTO `device_cmd_log` VALUES (1863818223969079312, 1734597720010, '55', 0, '6', '77783779487777686E4F7257764B787A');
INSERT INTO `device_cmd_log` VALUES (1863818223969079312, 1734597730009, '52', 0, '3', '724941383368586B4638376F566C5359');
INSERT INTO `device_cmd_log` VALUES (1863818223969079312, 1734597810013, '49', 0, '5', '4661417357686671744B417A3555714F');
INSERT INTO `device_cmd_log` VALUES (1863818223969079312, 1734597840014, '67', 0, '4', '386575744C4D36626C6D34493778524D');
INSERT INTO `device_cmd_log` VALUES (1863818223969079312, 1734597860013, '4E', 0, '2', '33693350716E73596C4D65696A376831');
INSERT INTO `device_cmd_log` VALUES (1863818223969079312, 1734597960023, '73', 0, '2', '45624D65573236326B4774546E616F72');
INSERT INTO `device_cmd_log` VALUES (1863818223969079312, 1734598040014, '71', 0, '3', '6E5473494F6C47595A5870386F767279');
INSERT INTO `device_cmd_log` VALUES (1863818223969079312, 1734598060018, '65', 0, '4', '4B76353479523867586347334D363439');
INSERT INTO `device_cmd_log` VALUES (1863818223969079312, 1734598310010, '56', 0, '4', '6E6151396F345A746652546D63677572');
INSERT INTO `device_cmd_log` VALUES (1863818223969079312, 1734598440011, '70', 0, '6', '4C664538515142455941657A51454C5A');
INSERT INTO `device_cmd_log` VALUES (1863818223969079312, 1734598520016, '72', 0, '5', '57776B5967356D685850533876746764');
INSERT INTO `device_cmd_log` VALUES (1863818223969079312, 1734598750008, '57', 0, '3', '774C694C704747337A75586746444848');
INSERT INTO `device_cmd_log` VALUES (1863818223969079313, 1734596830011, '68', 0, '1', '4735656E33536C52764B743872534E70');
INSERT INTO `device_cmd_log` VALUES (1863818223969079313, 1734596840016, '59', 0, '3', '4E68743975445551574C613977646B4F');
INSERT INTO `device_cmd_log` VALUES (1863818223969079313, 1734596960012, '43', 0, '3', '6C4158314A6B32474C7A675739515A4D');
INSERT INTO `device_cmd_log` VALUES (1863818223969079313, 1734597050009, '32', 0, '2', '726632446B305A716B5569656A456F37');
INSERT INTO `device_cmd_log` VALUES (1863818223969079313, 1734597260021, '6F', 0, '6', '43426B6655356E306667457946576D34');
INSERT INTO `device_cmd_log` VALUES (1863818223969079313, 1734597350018, '52', 0, '6', '685854696C5946566836564D63755754');
INSERT INTO `device_cmd_log` VALUES (1863818223969079313, 1734597370014, '70', 0, '4', '71797678444579354A49787075334163');
INSERT INTO `device_cmd_log` VALUES (1863818223969079313, 1734597570011, '77', 0, '5', '356B353859626C713336575671695539');
INSERT INTO `device_cmd_log` VALUES (1863818223969079313, 1734598000010, '42', 0, '4', '5777525564664568446D6A4268487263');
INSERT INTO `device_cmd_log` VALUES (1863818223969079313, 1734598190009, '67', 0, '1', '34344D50667A434D74786C356378497A');
INSERT INTO `device_cmd_log` VALUES (1863818223969079313, 1734598350011, '34', 0, '4', '51773931755567677741584558703462');
INSERT INTO `device_cmd_log` VALUES (1863818223969079313, 1734598590009, '42', 0, '6', '6D57356C48367745436551414245414B');
INSERT INTO `device_cmd_log` VALUES (1863818223969079314, 1734596610021, '72', 0, '1', '5144643865554B504C61613468723866');
INSERT INTO `device_cmd_log` VALUES (1863818223969079314, 1734596620011, '39', 0, '1', '6B53736968704F484A4546616B555859');
INSERT INTO `device_cmd_log` VALUES (1863818223969079314, 1734597010010, '56', 0, '5', '646D755154726D344A70654E36776D32');
INSERT INTO `device_cmd_log` VALUES (1863818223969079314, 1734597060011, '33', 0, '5', '75456F4B77774E65333361466C4F3630');
INSERT INTO `device_cmd_log` VALUES (1863818223969079314, 1734597160011, '73', 0, '4', '6939476B72326B4F70396243336E4671');
INSERT INTO `device_cmd_log` VALUES (1863818223969079314, 1734597430009, '44', 0, '4', '79626147734F356A4470704C4E797863');
INSERT INTO `device_cmd_log` VALUES (1863818223969079314, 1734597600012, '58', 0, '4', '75556947466A366C486C684849493173');
INSERT INTO `device_cmd_log` VALUES (1863818223969079314, 1734597640011, '70', 0, '5', '515959646A34683534376D5351544B54');
INSERT INTO `device_cmd_log` VALUES (1863818223969079314, 1734597740010, '4F', 0, '4', '41777437383749586B395076754E7A6C');
INSERT INTO `device_cmd_log` VALUES (1863818223969079314, 1734597870017, '73', 0, '2', '6E307935345742376F49616946795168');
INSERT INTO `device_cmd_log` VALUES (1863818223969079314, 1734597950016, '6E', 0, '2', '4A507277776555587A76654B6F6D7746');
INSERT INTO `device_cmd_log` VALUES (1863818223969079314, 1734598130009, '4D', 0, '3', '4B3242515841786E64774A4157513947');
INSERT INTO `device_cmd_log` VALUES (1863818223969079314, 1734598390010, '62', 0, '4', '317A3542417939575676566170485872');
INSERT INTO `device_cmd_log` VALUES (1863818223969079314, 1734598410010, '62', 0, '5', '79345A6E68754230744C335364357A61');
INSERT INTO `device_cmd_log` VALUES (1863818223969079314, 1734598480009, '4F', 0, '1', '464B54456F6950496655446C58484163');
INSERT INTO `device_cmd_log` VALUES (1863818223969079314, 1734598580014, '4E', 0, '4', '52723574633077564571456669466239');
INSERT INTO `device_cmd_log` VALUES (1863818223969079314, 1734598630010, '43', 0, '1', '59304C396A6B343530436C6870415A64');
INSERT INTO `device_cmd_log` VALUES (1863818223969079314, 1734598640008, '6B', 0, '3', '61414572464259784E42746E654D7974');
INSERT INTO `device_cmd_log` VALUES (1863818223969079316, 1734596690010, '58', 0, '4', '6E5366556C4B625A65494838644A6149');
INSERT INTO `device_cmd_log` VALUES (1863818223969079316, 1734596730011, '34', 0, '4', '3868495078316430446E4B5A4C684D43');
INSERT INTO `device_cmd_log` VALUES (1863818223969079316, 1734596770022, '71', 0, '3', '724B614D4255506D4E78363970546E75');
INSERT INTO `device_cmd_log` VALUES (1863818223969079316, 1734596810011, '4B', 0, '6', '484F455555504C485773754A53456170');
INSERT INTO `device_cmd_log` VALUES (1863818223969079316, 1734596820012, '52', 0, '2', '466C79764C6E6A5A7A47466865704E77');
INSERT INTO `device_cmd_log` VALUES (1863818223969079316, 1734596890009, '73', 0, '5', '7361744173793638374B77666C4A7449');
INSERT INTO `device_cmd_log` VALUES (1863818223969079316, 1734596970012, '4D', 0, '6', '4B48554167427170747869704F6F686A');
INSERT INTO `device_cmd_log` VALUES (1863818223969079316, 1734597180012, '62', 0, '4', '535170343154317A6F6E613855346B72');
INSERT INTO `device_cmd_log` VALUES (1863818223969079316, 1734597320014, '44', 0, '6', '78736E68616574315A494C5448556E53');
INSERT INTO `device_cmd_log` VALUES (1863818223969079316, 1734597360021, '45', 0, '1', '42794C3378733761474263314C656E57');
INSERT INTO `device_cmd_log` VALUES (1863818223969079316, 1734597480025, '79', 0, '5', '7958515557397A364A4E50484A353242');
INSERT INTO `device_cmd_log` VALUES (1863818223969079316, 1734597500011, '55', 0, '5', '6E49597A664D62693432596B68617748');
INSERT INTO `device_cmd_log` VALUES (1863818223969079316, 1734597520016, '32', 0, '4', '386F5746334D734A67557A6E58756F54');
INSERT INTO `device_cmd_log` VALUES (1863818223969079316, 1734597900013, '6F', 0, '6', '41705270373045394F554B7077705043');
INSERT INTO `device_cmd_log` VALUES (1863818223969079316, 1734597940010, '55', 0, '3', '4762487A596B72363865324D7378646E');
INSERT INTO `device_cmd_log` VALUES (1863818223969079316, 1734598210010, '65', 0, '4', '384D523971585047654730485A647875');
INSERT INTO `device_cmd_log` VALUES (1863818223969079316, 1734598290014, '64', 0, '5', '714A306253526F68414847323545544B');
INSERT INTO `device_cmd_log` VALUES (1863818223969079316, 1734598500026, '44', 0, '1', '63574E566D6257533031716F4D6B7867');
INSERT INTO `device_cmd_log` VALUES (1866378572443914241, 1734596550017, '41', 1774671331416821762, '2', '78567246476F4E536C7574666B344C43');
INSERT INTO `device_cmd_log` VALUES (1866378572443914241, 1734596570019, '4C', 1774671331416821762, '5', '614C614D5761687A49724670514B694B');
INSERT INTO `device_cmd_log` VALUES (1866378572443914241, 1734596680021, '61', 1774671331416821762, '3', '5472784D326835376D5A493676487869');
INSERT INTO `device_cmd_log` VALUES (1866378572443914241, 1734596710015, '71', 1774671331416821762, '1', '417268356C66434F5344326C37446855');
INSERT INTO `device_cmd_log` VALUES (1866378572443914241, 1734596720017, '75', 1774671331416821762, '5', '59535466617937794267736675344862');
INSERT INTO `device_cmd_log` VALUES (1866378572443914241, 1734597170010, '48', 1774671331416821762, '2', '4535334243424F7A317274794852757A');
INSERT INTO `device_cmd_log` VALUES (1866378572443914241, 1734597270017, '49', 1774671331416821762, '3', '54346174647A494B49484F7667343632');
INSERT INTO `device_cmd_log` VALUES (1866378572443914241, 1734597330025, '7A', 1774671331416821762, '2', '6E777A5130626675354C6349654C6979');
INSERT INTO `device_cmd_log` VALUES (1866378572443914241, 1734597390018, '74', 1774671331416821762, '2', '66506B3651467A4451704A794F475238');
INSERT INTO `device_cmd_log` VALUES (1866378572443914241, 1734597450025, '34', 1774671331416821762, '1', '35657A54694C6B306E4F4A425A794D52');
INSERT INTO `device_cmd_log` VALUES (1866378572443914241, 1734597670009, '4F', 1774671331416821762, '4', '564D7331633139556F5557436749555A');
INSERT INTO `device_cmd_log` VALUES (1866378572443914241, 1734597750010, '35', 1774671331416821762, '1', '455A49616F464A6B6441425A4C4D4D5A');
INSERT INTO `device_cmd_log` VALUES (1866378572443914241, 1734597850022, '7A', 1774671331416821762, '2', '667234414F573037693861535A4B724D');
INSERT INTO `device_cmd_log` VALUES (1866378572443914241, 1734597970011, '71', 1774671331416821762, '4', '394E706677506C786C626137317A3835');
INSERT INTO `device_cmd_log` VALUES (1866378572443914241, 1734597990010, '4D', 1774671331416821762, '4', '7643795A687062336549416B624B6831');
INSERT INTO `device_cmd_log` VALUES (1866378572443914241, 1734598120010, '6A', 1774671331416821762, '5', '527637526A594F586474466F54494B50');
INSERT INTO `device_cmd_log` VALUES (1866378572443914241, 1734598260017, '54', 1774671331416821762, '2', '7A4E4D556C475A73593755645A623844');
INSERT INTO `device_cmd_log` VALUES (1866378572443914241, 1734598280019, '77', 1774671331416821762, '1', '4B443554734A47463770446C45757A52');
INSERT INTO `device_cmd_log` VALUES (1866378572443914241, 1734598320009, '34', 1774671331416821762, '5', '4F6A6957636B4E686B32694F765A616C');
INSERT INTO `device_cmd_log` VALUES (1866378572443914241, 1734598450008, '46', 1774671331416821762, '2', '646E5534474677715062417069656E6F');
INSERT INTO `device_cmd_log` VALUES (1866378572443914241, 1734598740008, '34', 1774671331416821762, '1', '396F375044745142614575424A717473');

-- ----------------------------
-- Table structure for product
-- ----------------------------
DROP TABLE IF EXISTS `product`;
CREATE TABLE `product`  (
  `pdt_id` bigint NOT NULL COMMENT 'id',
  `pdt_name` varchar(64) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci NOT NULL COMMENT '产品名称',
  `status` char(1) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci NOT NULL DEFAULT '0' COMMENT '状态(字典值：0启用  1停用)',
  `pdt_type` char(1) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci NOT NULL DEFAULT '0' COMMENT '产品类型\r\n0 直连产品 1 网关产品',
  `ptc_id` bigint NOT NULL COMMENT '协议ID',
  `model_type` char(1) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci NULL DEFAULT NULL COMMENT '产品型号类型',
  `model` json NULL COMMENT '产品型号，包含一些不方便统一设计的字段\r\n',
  `remark` varchar(64) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci NULL DEFAULT NULL COMMENT '产品描述',
  `create_id` bigint NOT NULL COMMENT '创建者',
  `create_at` bigint NOT NULL COMMENT '创建时间',
  `update_id` bigint NULL DEFAULT NULL COMMENT '更新者',
  `update_at` bigint NULL DEFAULT NULL COMMENT '更新时间',
  PRIMARY KEY (`pdt_id`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8mb3 COLLATE = utf8mb3_general_ci COMMENT = '产品表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
-- Records of product
-- ----------------------------
INSERT INTO `product` VALUES (1864220691112038402, '温度智能检测器', '0', '0', 1, NULL, NULL, NULL, 1, 1733299822963, 1, 1733382509922);
INSERT INTO `product` VALUES (1864567546446561282, '汽车充电桩', '0', '0', 3, NULL, NULL, NULL, 1, 1733382519720, 1, 1733382562055);

-- ----------------------------
-- Table structure for protocol
-- ----------------------------
DROP TABLE IF EXISTS `protocol`;
CREATE TABLE `protocol`  (
  `ptc_id` bigint NOT NULL COMMENT 'id',
  `ptc_name` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL DEFAULT NULL COMMENT '协议名称',
  `ptc_version` varchar(10) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '0.1' COMMENT '协议版本',
  `ptc_type` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL COMMENT '协议类型 ：mqtt || coap || modbus || http',
  `ptc_language` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL COMMENT '协议语言',
  `class_name` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL DEFAULT NULL COMMENT '类名',
  `content` text CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL COMMENT '内容',
  `parameter` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL DEFAULT NULL COMMENT '示例参数',
  `status` char(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '0' COMMENT '状态(字典值：0启用  1停用)',
  `create_id` bigint NOT NULL COMMENT '创建者',
  `create_at` bigint NOT NULL COMMENT '创建时间',
  `update_id` bigint NULL DEFAULT NULL COMMENT '更新者',
  `update_at` bigint NULL DEFAULT NULL COMMENT '更新时间',
  `remark` varchar(200) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL DEFAULT NULL COMMENT '备注',
  PRIMARY KEY (`ptc_id`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8mb4 COLLATE = utf8mb4_unicode_ci COMMENT = '协议信息表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
-- Records of protocol
-- ----------------------------
INSERT INTO `protocol` VALUES (1, '温湿度产品协议转换', '0.1', 'MQTT', 'java', '222', 'import com.alibaba.fastjson.JSONArray;\nimport com.alibaba.fastjson.JSONObject;\n\nimport jakarta.xml.bind.annotation.adapters.HexBinaryAdapter;\nimport java.math.BigInteger;\nimport java.util.Date;\n\npublic class newtest {\n    public static void main(String[] args) throws Exception {\n        String injson = \"\";\n\n        if (args != null && args.length != 0) {\n            injson = args[0];\n        }\n        JSONObject parsejson = JSONObject.parseObject(injson);\n        System.out.println(Convert2SystemJSON(parsejson));\n    }\n    public static String Convert2SystemJSON(JSONObject injsonobj) throws Exception {\n        String hexdata = injsonobj.get(\"data\").toString();\n        byte[] bt = java.util.Base64.getDecoder().decode(hexdata);\n        JSONObject data = hex2wsdjsonobj(bt);\n\n        JSONArray services = new JSONArray();\n        JSONObject server = new JSONObject();\n        server.put(\"serviceId\", \"serdsd123\");\n        server.put(\"data\", data);\n        server.put(\"eventTime\", new Date());\n        services.add(server);\n\n        JSONObject dev = new JSONObject();\n        dev.put(\"deviceId\", injsonobj.get(\"devEui\"));\n        dev.put(\"services\", services);\n        JSONArray devices = new JSONArray();\n        devices.add(dev);\n\n        JSONObject root = new JSONObject();\n        root.put(\"devices\", devices);\n        return root.toJSONString();\n    }\n\n    /**\n     * 十六进制转换成10进制 负数也能转换\n     */\n    public static int hex16convert2(String hex) throws Exception {\n        if (hex.length() != 4) {\n            throw new Exception(\"必须是4个长度\");\n        }\n        int bit1 = Integer.parseInt(hex.substring(0, 1), 16);\n        if (bit1 < 8)\n        {\n            return Integer.parseInt(hex, 16);\n        } else {\n            return new BigInteger(\"FFFF\" + hex, 16).intValue();\n        }\n    }\n\n    /**\n     * 温湿度解码\n     */\n    private static JSONObject hex2wsdjsonobj(byte[] bt) throws Exception {\n        HexBinaryAdapter hexBinaryAdapter = new HexBinaryAdapter();\n        JSONObject data = new JSONObject();\n        String temp = hexBinaryAdapter.marshal(new byte[]{bt[2]});\n        String temp2 = hexBinaryAdapter.marshal(new byte[]{bt[3]});\n        String changtemp = change(temp, temp2);\n        data.put(\"temperature\", hex16convert2(changtemp) * 0.01);\n        temp = hexBinaryAdapter.marshal(new byte[]{bt[4]});\n        temp2 = hexBinaryAdapter.marshal(new byte[]{bt[5]});\n        changtemp = change(temp, temp2);\n        data.put(\"humidity\", hex16convert2(changtemp) * 0.01);\n        temp = hexBinaryAdapter.marshal(new byte[]{bt[8]});\n        temp2 = hexBinaryAdapter.marshal(new byte[]{bt[9]});\n        changtemp = change(temp, temp2);\n        data.put(\"battery\", hex16convert2(changtemp));\n        return data;\n    }\n\n    public static String change(String first, String end) {\n        return end + first;\n    }\n}\n', '11', '0', 1, 1732238575107, 1, 1733965804552, '温湿度产品协议转换样例');
INSERT INTO `protocol` VALUES (2, 'co2协议转换', '0.1', 'MQTT', 'java', '1', 'import com.alibaba.fastjson.JSONArray;\nimport com.alibaba.fastjson.JSONObject;\n\nimport jakarta.xml.bind.annotation.adapters.HexBinaryAdapter;\nimport java.util.Date;\n\npublic class co2test {\n    public static void main(String[] args) throws Exception {\n        String injson = \"\";\n\n        if (args != null && args.length != 0) {\n            injson = args[0];\n        }\n        JSONObject parsejson = JSONObject.parseObject(injson);\n        System.out.println(Convert2SystemJSON(parsejson));\n    }\n    public static String Convert2SystemJSON(JSONObject injsonobj) throws Exception {\n        String hexdata = injsonobj.get(\"data\").toString();\n        byte[] bt = java.util.Base64.getDecoder().decode(hexdata);\n        JSONObject data = hex2co2jsonobj(bt);\n\n        JSONArray services = new JSONArray();\n        JSONObject server = new JSONObject();\n        server.put(\"serviceId\", \"serdsd123\");\n        server.put(\"data\", data);\n        server.put(\"eventTime\", new Date());\n        services.add(server);\n\n        JSONObject dev = new JSONObject();\n        dev.put(\"deviceId\",  injsonobj.get(\"devEUI\").toString());\n        dev.put(\"services\", services);\n        JSONArray devices = new JSONArray();\n        devices.add(dev);\n\n        JSONObject root = new JSONObject();\n        root.put(\"devices\", devices);\n        return root.toJSONString();\n    }\n \n    private static JSONObject hex2co2jsonobj(byte[] bt) throws Exception {\n        HexBinaryAdapter hexBinaryAdapter = new HexBinaryAdapter();\n        String hex=hexBinaryAdapter.marshal(bt);\n        JSONObject data = new JSONObject();\n        for (int i = 0; i < hex.length(); i++) {\n            String td = hex.substring(i, i + 2);\n            String type = hex.substring(i + 2, i + 4); \n            if (td.equals(\"01\") && type.equals(\"75\")) {\n                data.put(\"battery\", Integer.parseInt(hex.substring(i + 4, i + 6), 16));\n            } \n            else if (td.equals(\"03\") && type.equals(\"67\")) { \n                String temp = change(hex.substring(i + 4, i + 6), hex.substring(i + 6, i + 8));\n                data.put(\"temperature\", Integer.parseInt(temp, 16) * 0.1);\n                i = i + 7;\n            } \n            else if (td.equals(\"04\") && type.equals(\"68\")) {\n                data.put(\"humidity\", Integer.parseInt(hex.substring(i + 4, i + 6), 16) / 2);\n                i = i + 5;\n            } \n            else if (td.equals(\"05\") && type.toLowerCase().equals(\"7d\")) {\n                String temp = change(hex.substring(i + 4, i + 6), hex.substring(i + 6, i + 8));\n                data.put(\"co2\", Integer.parseInt(temp, 16));\n                i = i + 7;\n            } \n            else if (td.equals(\"06\") && type.equals(\"73\")) {\n                String temp = change(hex.substring(i + 4, i + 6), hex.substring(i + 6, i + 8));\n                data.put(\"pressure\",Integer.parseInt(temp, 16) * 0.1);\n                i = i + 7;\n            } else {\n                break;\n            }\n        }\n        return data;\n    }\n\n    public static String change(String first, String end) {\n        return end + first;\n    }\n}\n', NULL, '0', 1, 1732080713708, 1, 1732080713708, 'co2协议转换样例');
INSERT INTO `protocol` VALUES (3, '充电桩协议', '0.1', 'MQTT', 'java', '1', 'import com.wzkris.common.core.utils.StringUtil;\nimport java.math.BigDecimal;\nimport java.math.RoundingMode;\n\npublic class newtest {\n\n    public static void main(String[] args) throws Exception {\n        String injson = \"\";\n\n        if (args != null && args.length != 0) {\n            injson = args[0];\n        }\n\n        String code = injson.substring(0, 2);\n        if (StringUtil.equals(\"07\", code) || StringUtil.equals(\"08\", code)) {\n\n            injson = injson.substring(6);\n            int netType = Integer.parseInt(injson.substring(0, 2), 16);\n            int signLevel = Integer.parseInt(injson.substring(2, 4), 16);\n            int NetOp = Integer.parseInt(injson.substring(4, 6), 16);\n            int spearState = Integer.parseInt(injson.substring(6, 8), 16);\n            int errCode = Integer.parseInt(injson.substring(8, 12), 16);\n            int leakCurrent = Integer.parseInt(injson.substring(12, 16), 16);\n            BigDecimal inOc = BigDecimal.valueOf(Integer.parseInt(injson.substring(16, 20), 16)).divide(BigDecimal.valueOf(10), 1, RoundingMode.HALF_UP);\n            int relayState = Integer.parseInt(injson.substring(20, 22), 16);\n            BigDecimal phaseA_voltage = BigDecimal.valueOf(Integer.parseInt(injson.substring(22, 30), 16)).divide(BigDecimal.valueOf(10), 1, RoundingMode.HALF_UP);\n            BigDecimal phaseA_current = BigDecimal.valueOf(Integer.parseInt(injson.substring(30, 38), 16)).divide(BigDecimal.valueOf(100), 2, RoundingMode.HALF_UP);\n            BigDecimal phaseB_voltage = BigDecimal.valueOf(Integer.parseInt(injson.substring(38, 46), 16)).divide(BigDecimal.valueOf(10), 1, RoundingMode.HALF_UP);\n            BigDecimal phaseB_current = BigDecimal.valueOf(Integer.parseInt(injson.substring(46, 54), 16)).divide(BigDecimal.valueOf(100), 2, RoundingMode.HALF_UP);\n            BigDecimal phaseC_voltage = BigDecimal.valueOf(Integer.parseInt(injson.substring(54, 62), 16)).divide(BigDecimal.valueOf(10), 1, RoundingMode.HALF_UP);\n            BigDecimal phaseC_current = BigDecimal.valueOf(Integer.parseInt(injson.substring(62, 70), 16)).divide(BigDecimal.valueOf(100), 2, RoundingMode.HALF_UP);\n            int elecModel = Integer.parseInt(injson.substring(70, 74), 16);\n            int serModel = Integer.parseInt(injson.substring(74, 78), 16);\n\n            System.out.println(\"网络类型：\" + netType + \"，信号强度：\" + signLevel + \"，网络运营商：\" + NetOp + \"，枪工作状态：\" + spearState + \"，故障代码：\" + errCode +\n                    \"，漏电电流：\" + leakCurrent + \"，桩内温度：\" + inOc + \"，继电器状态：\" + relayState +\n                    \"，A相输出电压：\" + phaseA_voltage + \"，A相输出电流：\" + phaseA_current + \"，B相输出电压：\" + phaseB_voltage +\n                    \"，B相输出电流：\" + phaseB_current + \"，C相输出电压：\" + phaseC_voltage + \", C相输出电流：\" + phaseC_current +\n                    \", 电费模型：\" + elecModel + \", 服务费模型：\" + serModel);\n        }\n\n    }\n}\n', '0776010D410C0A0000000000C30A000008B80000000100000000000000000000000000000000000C000C01BC', '0', 1, 1732080713708, 1, 1732239796913, '充电桩协议转换样例');

-- ----------------------------
-- Table structure for station
-- ----------------------------
DROP TABLE IF EXISTS `station`;
CREATE TABLE `station`  (
  `station_id` bigint NOT NULL,
  `tenant_id` bigint NOT NULL COMMENT '租户ID',
  `latitude` decimal(8, 6) NOT NULL COMMENT '纬度',
  `longitude` decimal(9, 6) NOT NULL COMMENT '经度',
  `address` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL COMMENT '地址信息',
  `station_name` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL COMMENT '电站名称',
  `status` char(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '0' COMMENT '站点状态',
  `create_at` bigint NOT NULL,
  `create_id` bigint NOT NULL,
  `update_at` bigint NULL DEFAULT NULL,
  `update_id` bigint NULL DEFAULT NULL,
  PRIMARY KEY (`station_id`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8mb4 COLLATE = utf8mb4_unicode_ci COMMENT = '站点信息' ROW_FORMAT = Dynamic;

-- ----------------------------
-- Records of station
-- ----------------------------
INSERT INTO `station` VALUES (1866022527007670274, 0, 28.073448, 120.784458, '浙江省温州市永嘉县乌牛街道乌牛早茶·红茶·绿茶', '站点1', '0', 1733729414123, 1, 1733879631981, 1);
INSERT INTO `station` VALUES (1866379447988072449, 1774671331416821762, 27.778929, 120.585270, '浙江省温州市瑞安市云周街道京东瑞安物流园亚洲一号(4门)', '测试站点', '0', 1733814510714, 1774671331412627456, 1733820834756, 1774671331412627456);

SET FOREIGN_KEY_CHECKS = 1;
